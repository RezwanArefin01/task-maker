#compdef task-maker

# Add this file (_task_maker) to a directory in $fpath

args=(
  '(-h --help)'{-h,--help}'[show this help message and exit]'
  '--version[show program'"'"'s version number and exit]'
  '--task-dir=[Directory of the task to build]'
  '--max-depth=[Look at most for this number of parents to search the task]'
  '--ui=[UI to use]:ui type:(curses print silent)'
  '--cache=[Cache policy to use]:cache type:(all generation nothing)'
  '--dry-run[Execute everything but do not touch the task directory]'
  '--clean[Clear the task directory and exit]'
  '--format=[Format of the task (ioi|terry)]:format type:(ioi terry)'
  '--evaluate-on=[Where evaluations should be run]'
  '--manager-port=[Port of the manager]'
  '--run-manager=[Run the manager in foreground instead of running a task]'
  '--run-server=[Run the server in foreground instead of running a task]'
  '--run-worker=[Run a worker in foreground instead of running a task]'
  '--num-cores=[Number of cores to use]'
  '--exclusive[Evaluate the solutions one test at the time]'
  '--extra-time=[Add some time to the evaluation of the solutions]'
  '--temp-dir=[Where the sandboxes should be created]'
  '--store-dir=[Where files should be stored]'
  '--copy-exe[Copy executable files in bin/ folder]'
  '--keep-sandbox[Do not drop the sandbox folder]'
  '--quit-manager[Tell the manager to quit after processing the last request]'
  '--kill-manager[Tell the manager to quit ASAP]'
  '--arch=[Architecture to target the managers in Terry format]:arch type:(default x86_64 i686)'
  '--seed=[Seed for the terry generator]'
  '*:solutions:{_files}'
)

_arguments -s -S $args
